{"ast":null,"code":"import _classCallCheck from \"/Users/frida/teamdagarna/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/frida/teamdagarna/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { AuthService } from '../../../services/auth.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\n\nvar _c0 = function _c0(a0) {\n  return {\n    \"is-loading\": a0\n  };\n};\n\nexport var CompanysigninComponent = /*#__PURE__*/(function () {\n  var CompanysigninComponent = /*#__PURE__*/function () {\n    function CompanysigninComponent(fb, auth, router) {\n      _classCallCheck(this, CompanysigninComponent);\n\n      this.fb = fb;\n      this.auth = auth;\n      this.router = router;\n      this.loading = false;\n    }\n\n    _createClass(CompanysigninComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        this.companyLoginForm = this.fb.group({\n          'mail': ['', [Validators.required]],\n          'password': ['', [Validators.required]]\n        });\n      }\n    }, {\n      key: \"login\",\n      value: function login(data) {\n        var _this = this;\n\n        this.loading = true;\n        var mail = data.mail + '@teamdagarna.com';\n        this.auth.emailLogin(mail, data.password).then(function (res) {\n          _this.loading = false;\n\n          _this.router.navigate(['companyguest']);\n\n          if (navigator.userAgent.indexOf('gonative') > -1) {\n            var items = [{\n              subLinks: [],\n              label: \"Hem\",\n              url: \"https://teamdagarna.com/\",\n              icon: \"fa-home\"\n            }, {\n              subLinks: [{\n                subLinks: [],\n                label: \"Sök DreamTEAM\",\n                url: \"https://teamdagarna.com/sokdreamteam\"\n              }, {\n                subLinks: [],\n                label: \"Företagen 2018\",\n                url: \"https://teamdagarna.com/companies\"\n              }, {\n                subLinks: [],\n                label: \"Kontaktsamtal\",\n                url: \"https://teamdagarna.com/interview\"\n              }, {\n                subLinks: [],\n                label: \"Event\",\n                url: \"https://teamdagarna.com/events\"\n              }],\n              label: \"För Studenter\",\n              isGrouping: true,\n              icon: \"fa-users\"\n            }, {\n              subLinks: [{\n                subLinks: [],\n                label: \"Om TEAM-dagarna\",\n                url: \"https://teamdagarna.com/about\"\n              }, {\n                subLinks: [],\n                label: \"FAQ\",\n                url: \"https://teamdagarna.com/faq\"\n              }, {\n                subLinks: [],\n                label: \"Erbjudande\",\n                url: \"https://teamdagarna.com/weoffer\"\n              }, {\n                subLinks: [],\n                label: \"Hitta hit\",\n                url: \"https://teamdagarna.com/weoffer\"\n              }, {\n                subLinks: [],\n                label: \"Företagssida\",\n                url: \"https://teamdagarna.com/companyguest\"\n              }],\n              label: \"För företag\",\n              isGrouping: true,\n              icon: \"fa-briefcase\"\n            }, {\n              subLinks: [{\n                subLinks: [],\n                label: \"Kontakt\",\n                url: \"https://teamdagarna.com/dreamteam\"\n              }, {\n                subLinks: [],\n                label: \"Om TEAM-dagarna\",\n                url: \"https://teamdagarna.com/about\"\n              }, {\n                subLinks: [],\n                label: \"Hållbarhet\",\n                url: \"https://teamdagarna.com/hallbarhet\"\n              }],\n              label: \"Om oss\",\n              isGrouping: true,\n              icon: \"fa-question\"\n            }, {\n              subLinks: [],\n              label: \"English info\",\n              url: \"https://teamdagarna.com/about-english\",\n              icon: \"fa-cog\"\n            }, {\n              subLinks: [],\n              label: \"Din profil\",\n              url: \"https://teamdagarna.com/profile\",\n              icon: \"fa-user\"\n            }, {\n              subLinks: [],\n              label: \"Logga ut\",\n              url: \"https://teamdagarna.com/signout\",\n              icon: \"fa-sign-out\"\n            }];\n            var json = JSON.stringify(items);\n            window.location.href = 'gonative://sidebar/setItems?items=' + encodeURIComponent(json);\n          }\n        }).catch(function (error) {\n          _this.loading = false;\n          var errorCode = error.code;\n\n          if (errorCode === 'auth/wrong-password') {\n            _this.errorMessage = 'Verkar inte som att du matat in rätt användarnamn eller lösenord. Testa igen.';\n          } else if (errorCode === 'auth/invalid-email') {\n            _this.errorMessage = 'Verkar inte som att du matat in rätt användarnamn eller lösenord. Testa igen.';\n          } else if (errorCode === 'auth/user-not-found') {\n            _this.errorMessage = 'Verkar inte som att du matat in rätt användarnamn eller lösenord. Testa igen.';\n          } else {\n            _this.errorMessage = 'Något gick fel. Testa igen.';\n          }\n        });\n      }\n    }]);\n\n    return CompanysigninComponent;\n  }();\n\n  CompanysigninComponent.ɵfac = function CompanysigninComponent_Factory(t) {\n    return new (t || CompanysigninComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  CompanysigninComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CompanysigninComponent,\n    selectors: [[\"app-companysignin\"]],\n    decls: 53,\n    vars: 6,\n    consts: [[1, \"hero\", \"is-black\", \"is-bold\"], [1, \"hero-body\"], [1, \"container\"], [1, \"columns\", \"is-vcentered\"], [1, \"column\", \"is-two-thirds\"], [1, \"title\"], [1, \"subtitle\"], [1, \"section\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"columns\", \"is-centered\"], [1, \"column\", \"is-one-third\"], [1, \"card\", \"login-card\"], [1, \"card-content\"], [1, \"title\", \"is-2\"], [1, \"subtitle\", \"is-4\"], [\"href\", \"mailto:julia.bogren@teamdagarna.com\"], [1, \"field\"], [\"for\", \"mail\", 1, \"label\"], [\"type\", \"text\", \"placeholder\", \"Anv\\xE4ndarnamn\", \"formControlName\", \"mail\", 1, \"input\"], [\"for\", \"password\", 1, \"label\"], [\"type\", \"password\", \"placeholder\", \"Ditt l\\xF6senord\", \"formControlName\", \"password\", 1, \"input\"], [1, \"error-message\"], [\"type\", \"submit\", 1, \"button\", \"is-fullwidth\", 3, \"disabled\", \"ngClass\"], [\"href\", \"mailto:itwebb@teamdagarna.com \"]],\n    template: function CompanysigninComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h1\", 5);\n        i0.ɵɵtext(6, \" F\\xF6retagsinlogg \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"h2\", 6);\n        i0.ɵɵtext(8, \"Denna inloggningsida \\xE4r f\\xF6r f\\xF6retag som erbjuder kontaktsamtal p\\xE5 m\\xE4ssan.\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(9, \"section\", 7)(10, \"div\", 2)(11, \"form\", 8);\n        i0.ɵɵlistener(\"ngSubmit\", function CompanysigninComponent_Template_form_ngSubmit_11_listener() {\n          return ctx.login(ctx.companyLoginForm.value);\n        });\n        i0.ɵɵelementStart(12, \"div\", 9)(13, \"div\", 10)(14, \"div\", 11)(15, \"div\", 12)(16, \"h3\", 13);\n        i0.ɵɵtext(17, \"Logga in\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"h3\", 14);\n        i0.ɵɵtext(19, \"Du ska ha f\\xE5tt dina inloggningsuppgifter fr\\xE5n kontaktsamtalsansvarig. Om du eller n\\xE5gon av dina kollegor inte f\\xE5tt, var v\\xE4nlig kontakta Julia p\\xE5 \");\n        i0.ɵɵelementStart(20, \"a\", 15);\n        i0.ɵɵtext(21, \"julia.bogren@teamdagarna.com\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(22, \".\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 16)(24, \"label\", 17);\n        i0.ɵɵtext(25, \"Anv\\xE4ndarnamn\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(26, \"input\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 16)(28, \"label\", 19);\n        i0.ɵɵtext(29, \"L\\xF6senord\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"input\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"p\", 21);\n        i0.ɵɵtext(32);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"button\", 22);\n        i0.ɵɵtext(34, \"Logga in\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"br\")(36, \"br\");\n        i0.ɵɵelementStart(37, \"h3\", 6);\n        i0.ɵɵtext(38, \"Om det av n\\xE5gon anledning inte fungerar att logga in eller visa kontaktsamtalen, testa f\\xF6ljande:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"ol\")(40, \"li\");\n        i0.ɵɵtext(41, \"Se till att anv\\xE4nda stora och sm\\xE5 bokst\\xE4ver om l\\xF6senordet inneh\\xE5ller det. L\\xE4ttast \\xE4r att kopiera.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"li\");\n        i0.ɵɵtext(43, \"Testa att anv\\xE4nda senaste versionen av Chrome.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"li\");\n        i0.ɵɵtext(45, \"Testa att starta om webbl\\xE4saren.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"li\");\n        i0.ɵɵtext(47, \"Testa att logga in via ett privat f\\xF6nster (inkognito).\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"li\");\n        i0.ɵɵtext(49, \"Om problemet kvarst\\xE5r, kontakta IT-ansvarig p\\xE5 \");\n        i0.ɵɵelementStart(50, \"a\", 23);\n        i0.ɵɵtext(51, \"itwebb@teamdagarna.com\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(52, \".\");\n        i0.ɵɵelementEnd()()()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"formGroup\", ctx.companyLoginForm);\n        i0.ɵɵadvance(21);\n        i0.ɵɵtextInterpolate(ctx.errorMessage);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.companyLoginForm.valid)(\"ngClass\", i0.ɵɵpureFunction1(4, _c0, ctx.loading));\n      }\n    },\n    directives: [i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i4.NgClass],\n    styles: [\"\"]\n  });\n  return CompanysigninComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}