{"ast":null,"code":"import { Observable, asyncScheduler } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nfunction _fromRef(ref) {\n  var scheduler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : asyncScheduler;\n  return new Observable(function (subscriber) {\n    var unsubscribe;\n\n    if (scheduler != null) {\n      scheduler.schedule(function () {\n        unsubscribe = ref.onSnapshot(subscriber);\n      });\n    } else {\n      unsubscribe = ref.onSnapshot(subscriber);\n    }\n\n    return function () {\n      if (unsubscribe != null) {\n        unsubscribe();\n      }\n    };\n  });\n}\n\nexport function fromRef(ref, scheduler) {\n  return _fromRef(ref, scheduler);\n}\nexport function fromDocRef(ref, scheduler) {\n  return fromRef(ref, scheduler).pipe(map(function (payload) {\n    return {\n      payload: payload,\n      type: 'value'\n    };\n  }));\n}\nexport function fromCollectionRef(ref, scheduler) {\n  return fromRef(ref, scheduler).pipe(map(function (payload) {\n    return {\n      payload: payload,\n      type: 'query'\n    };\n  }));\n} //# sourceMappingURL=fromRef.js.map","map":null,"metadata":{},"sourceType":"module"}