{"ast":null,"code":"import _classCallCheck from \"/Users/frida/teamdagarna/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/frida/teamdagarna/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { TreasurehuntService } from '../../../services/treasurehunt.service';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { LeaderBoardUser } from '../../../shared/models';\nimport * as _ from 'lodash';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"angularfire2/firestore\";\nimport * as i2 from \"../../../services/treasurehunt.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction TreasurescoreComponent_ng_container_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var user_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r2.liuid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.noOfPoints);\n  }\n}\n\nfunction TreasurescoreComponent_ng_container_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var user_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r3.liuid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r3.noOfPoints);\n  }\n}\n\nexport var TreasurescoreComponent = /*#__PURE__*/(function () {\n  var TreasurescoreComponent = /*#__PURE__*/function () {\n    function TreasurescoreComponent(afs, treasure) {\n      var _this = this;\n\n      _classCallCheck(this, TreasurescoreComponent);\n\n      this.afs = afs;\n      this.treasure = treasure;\n      this.treasure.getTreasureBoardTuesday().subscribe(function (treasureBoard) {\n        _this.treasureBoardTuesday = treasureBoard;\n        _this.leaderBoardTuesday = _this.createLeaderBoard(treasureBoard);\n      });\n      this.treasure.getTreasureBoardWednesday().subscribe(function (treasureBoard) {\n        _this.treasureBoardWednesday = treasureBoard;\n        _this.leaderBoardWednesday = _this.createLeaderBoard(treasureBoard);\n      });\n    }\n\n    _createClass(TreasurescoreComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {}\n    }, {\n      key: \"createLeaderBoard\",\n      value: function createLeaderBoard(treasureBoard) {\n        var leaderBoard = new Array();\n\n        for (var index = 0; index < treasureBoard.length; ++index) {\n          var newUser = {\n            liuid: treasureBoard[index].liuid,\n            noOfPoints: this.countPoints(treasureBoard[index])\n          };\n          leaderBoard.push(newUser);\n        }\n\n        return _.orderBy(leaderBoard, ['noOfPoints'], ['desc']);\n      }\n    }, {\n      key: \"countPoints\",\n      value: function countPoints(treasurehuntDoc) {\n        if (treasurehuntDoc) {\n          return _.size(treasurehuntDoc) - 2;\n        } else {\n          return 0;\n        }\n      }\n    }]);\n\n    return TreasurescoreComponent;\n  }();\n\n  TreasurescoreComponent.ɵfac = function TreasurescoreComponent_Factory(t) {\n    return new (t || TreasurescoreComponent)(i0.ɵɵdirectiveInject(i1.AngularFirestore), i0.ɵɵdirectiveInject(i2.TreasurehuntService));\n  };\n\n  TreasurescoreComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TreasurescoreComponent,\n    selectors: [[\"app-treasurescore\"]],\n    decls: 37,\n    vars: 2,\n    consts: [[1, \"title\", \"is-2\"], [1, \"columns\"], [1, \"column\", \"is-half\"], [1, \"has-text-weight-bold\", \"has-text-primary\"], [1, \"table\", \"is-fullwidth\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function TreasurescoreComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\", 0);\n        i0.ɵɵtext(1, \"Topplistor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"p\", 3);\n        i0.ɵɵtext(5, \" Tisdag: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"table\", 4)(7, \"thead\")(8, \"tr\")(9, \"th\");\n        i0.ɵɵtext(10, \"Namn:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"th\");\n        i0.ɵɵtext(12, \"Po\\xE4ng:\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"tfoot\")(14, \"th\");\n        i0.ɵɵtext(15, \"Namn:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"th\");\n        i0.ɵɵtext(17, \"Po\\xE4ng:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"tbody\");\n        i0.ɵɵtemplate(19, TreasurescoreComponent_ng_container_19_Template, 6, 2, \"ng-container\", 5);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(20, \"div\", 2)(21, \"p\", 3);\n        i0.ɵɵtext(22, \" Onsdag: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"table\", 4)(24, \"thead\")(25, \"tr\")(26, \"th\");\n        i0.ɵɵtext(27, \"Namn:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"th\");\n        i0.ɵɵtext(29, \"Po\\xE4ng:\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(30, \"tfoot\")(31, \"th\");\n        i0.ɵɵtext(32, \"Namn:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"th\");\n        i0.ɵɵtext(34, \"Po\\xE4ng:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"tbody\");\n        i0.ɵɵtemplate(36, TreasurescoreComponent_ng_container_36_Template, 6, 2, \"ng-container\", 5);\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"ngForOf\", ctx.leaderBoardTuesday);\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", ctx.leaderBoardWednesday);\n      }\n    },\n    directives: [i3.NgForOf],\n    styles: [\"\"]\n  });\n  return TreasurescoreComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}