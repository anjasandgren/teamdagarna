{"ast":null,"code":"import _classCallCheck from \"/Users/frida/teamdagarna/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/frida/teamdagarna/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { TreasurehuntService } from '../../../app/services/treasurehunt.service';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { LeaderBoardUser } from '../../shared/models';\nimport * as _ from 'lodash';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"angularfire2/firestore\";\nimport * as i2 from \"../../../app/services/treasurehunt.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\n\nfunction LeaderboardComponent_ng_container_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementStart(6, \"span\", 16);\n    i0.ɵɵelement(7, \"img\", 17);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var user_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r1.liuid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", user_r1.noOfPoints, \"\\xA0\");\n  }\n}\n\nvar _c0 = function _c0() {\n  return [\"pusseljakten\"];\n};\n\nexport var LeaderboardComponent = /*#__PURE__*/(function () {\n  var LeaderboardComponent = /*#__PURE__*/function () {\n    function LeaderboardComponent(afs, treasure) {\n      var _this = this;\n\n      _classCallCheck(this, LeaderboardComponent);\n\n      this.afs = afs;\n      this.treasure = treasure;\n      this.treasure.getTreasureBoardTuesday().subscribe(function (treasureBoard) {\n        _this.treasureBoardTuesday = treasureBoard;\n        _this.leaderBoardTuesday = _this.createLeaderBoard(treasureBoard);\n      });\n      this.treasure.getTreasureBoardWednesday().subscribe(function (treasureBoard) {\n        _this.treasureBoardWednesday = treasureBoard;\n        _this.leaderBoardWednesday = _this.createLeaderBoard(treasureBoard);\n      });\n    }\n\n    _createClass(LeaderboardComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {}\n    }, {\n      key: \"createLeaderBoard\",\n      value: function createLeaderBoard(treasureBoard) {\n        var leaderBoard = new Array();\n\n        for (var index = 0; index < treasureBoard.length; ++index) {\n          var newUser = {\n            liuid: treasureBoard[index].liuid,\n            noOfPoints: this.countPoints(treasureBoard[index])\n          };\n          leaderBoard.push(newUser);\n        }\n\n        return _.orderBy(leaderBoard, ['noOfPoints'], ['desc']);\n      }\n    }, {\n      key: \"countPoints\",\n      value: function countPoints(treasurehuntDoc) {\n        if (treasurehuntDoc) {\n          return _.size(treasurehuntDoc) - 2;\n        } else {\n          return 0;\n        }\n      }\n    }]);\n\n    return LeaderboardComponent;\n  }();\n\n  LeaderboardComponent.ɵfac = function LeaderboardComponent_Factory(t) {\n    return new (t || LeaderboardComponent)(i0.ɵɵdirectiveInject(i1.AngularFirestore), i0.ɵɵdirectiveInject(i2.TreasurehuntService));\n  };\n\n  LeaderboardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LeaderboardComponent,\n    selectors: [[\"app-leaderboard\"]],\n    decls: 29,\n    vars: 3,\n    consts: [[1, \"hero\", \"is-primary\", \"is-bold\"], [1, \"hero-body\"], [1, \"container\"], [1, \"columns\", \"is-vcentered\"], [1, \"column\", \"is-two-thirds\"], [1, \"title\"], [1, \"subtitle\"], [1, \"is-7\"], [1, \"is-italic\", \"is-clickable\", 3, \"routerLink\"], [1, \"section\"], [1, \"columns\", \"is-3\"], [1, \"column\", \"is-full\", \"is-mobile\"], [1, \"border-btm\"], [1, \"title\", \"is-3\"], [1, \"table\", \"is-fullwidth\", \"is-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"icon\", \"is-small\"], [\"src\", \"https://firebasestorage.googleapis.com/v0/b/teamdagarna-5fb26.appspot.com/o/ikon.png?alt=media&token=33401086-b60c-4e73-9dbd-66af65d9ea26\"]],\n    template: function LeaderboardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h1\", 5);\n        i0.ɵɵtext(6, \" Ledartavla f\\xF6r pusseljakten\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"h2\", 6);\n        i0.ɵɵtext(8, \"Under m\\xE4ssan anordnas pusseljakten. H\\xE4r nedan kan ni f\\xF6lja liveresultatet i denna t\\xE4vling. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"h3\", 7)(10, \"a\", 8);\n        i0.ɵɵtext(11, \"Psst... undrar du vad pusseljakten \\xE4r och vill delta? Klicka h\\xE4r!\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(12, \"section\", 9)(13, \"div\", 2)(14, \"div\", 10)(15, \"div\", 11)(16, \"div\", 12)(17, \"h1\", 13);\n        i0.ɵɵtext(18, \"Tisdagens po\\xE4ngst\\xE4llning | topp 5\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"table\", 14)(20, \"thead\")(21, \"tr\")(22, \"th\");\n        i0.ɵɵtext(23, \"Namn:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"th\");\n        i0.ɵɵtext(25, \"Po\\xE4ng:\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(26, \"tfoot\");\n        i0.ɵɵelementStart(27, \"tbody\");\n        i0.ɵɵtemplate(28, LeaderboardComponent_ng_container_28_Template, 8, 2, \"ng-container\", 15);\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngForOf\", ctx.leaderBoardTuesday.slice(0, 5));\n      }\n    },\n    directives: [i3.RouterLinkWithHref, i4.NgForOf],\n    styles: [\"\"]\n  });\n  return LeaderboardComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}