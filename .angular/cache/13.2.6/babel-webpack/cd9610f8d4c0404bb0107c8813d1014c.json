{"ast":null,"code":"import _defineProperty from \"/Users/frida/teamdagarna/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _classCallCheck from \"/Users/frida/teamdagarna/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/frida/teamdagarna/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/frida/teamdagarna/node_modules/@babel/runtime/regenerator/index.js\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"angularfire2/firestore\";\nexport var TreasurehuntService = /*#__PURE__*/(function () {\n  var TreasurehuntService = /*#__PURE__*/function () {\n    function TreasurehuntService(afs) {\n      _classCallCheck(this, TreasurehuntService);\n\n      this.afs = afs;\n    }\n\n    _createClass(TreasurehuntService, [{\n      key: \"getTreasureBoardTuesday\",\n      value: function getTreasureBoardTuesday() {\n        return this.afs.collection('treasurehuntPointsTuesday').snapshotChanges().pipe(map(function (actions) {\n          return actions.map(function (a) {\n            var data = a.payload.doc.data();\n            var id = a.payload.doc.id;\n            return Object.assign({\n              id: id\n            }, data);\n          });\n        }));\n      }\n    }, {\n      key: \"getTreasureBoardWednesday\",\n      value: function getTreasureBoardWednesday() {\n        return this.afs.collection('treasurehuntPointsWednesday').snapshotChanges().pipe(map(function (actions) {\n          return actions.map(function (a) {\n            var data = a.payload.doc.data();\n            var id = a.payload.doc.id;\n            return Object.assign({\n              id: id\n            }, data);\n          });\n        }));\n      }\n    }, {\n      key: \"getTreasurePointsTuesday\",\n      value: function getTreasurePointsTuesday(user) {\n        return this.afs.doc(\"treasurehuntPointsTuesday/\".concat(user.uid)).valueChanges();\n      }\n    }, {\n      key: \"getTreasurePointsWednesday\",\n      value: function getTreasurePointsWednesday(user) {\n        return this.afs.doc(\"treasurehuntPointsWednesday/\".concat(user.uid)).valueChanges();\n      }\n    }, {\n      key: \"registerPointsTuesday\",\n      value: function registerPointsTuesday(user, companyName) {\n        return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return this.afs.doc(\"treasurehuntPointsTuesday/\".concat(user.uid)).set(_defineProperty({\n                    liuid: user.liuid\n                  }, companyName, true), {\n                    merge: true\n                  });\n\n                case 3:\n                  _context.next = 9;\n                  break;\n\n                case 5:\n                  _context.prev = 5;\n                  _context.t0 = _context[\"catch\"](0);\n                  console.log(_context.t0);\n                  throw new Error(_context.t0.message);\n\n                case 9:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[0, 5]]);\n        }));\n      }\n    }, {\n      key: \"registerPointsWednesday\",\n      value: function registerPointsWednesday(user, companyName) {\n        return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.prev = 0;\n                  _context2.next = 3;\n                  return this.afs.doc(\"treasurehuntPointsWednesday/\".concat(user.uid)).set(_defineProperty({\n                    liuid: user.liuid\n                  }, companyName, true), {\n                    merge: true\n                  });\n\n                case 3:\n                  _context2.next = 9;\n                  break;\n\n                case 5:\n                  _context2.prev = 5;\n                  _context2.t0 = _context2[\"catch\"](0);\n                  console.log(_context2.t0);\n                  throw new Error(_context2.t0.message);\n\n                case 9:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this, [[0, 5]]);\n        }));\n      }\n    }]);\n\n    return TreasurehuntService;\n  }();\n\n  TreasurehuntService.ɵfac = function TreasurehuntService_Factory(t) {\n    return new (t || TreasurehuntService)(i0.ɵɵinject(i1.AngularFirestore));\n  };\n\n  TreasurehuntService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: TreasurehuntService,\n    factory: TreasurehuntService.ɵfac,\n    providedIn: 'root'\n  });\n  return TreasurehuntService;\n})();","map":null,"metadata":{},"sourceType":"module"}