{"ast":null,"code":"import _classCallCheck from \"/Users/frida/teamdagarna/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/frida/teamdagarna/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { AuthService } from '../../services/auth.service';\nimport { map } from 'rxjs/operators';\nimport * as _ from 'lodash';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"angularfire2/firestore\";\nimport * as i3 from \"../../services/auth.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../shared/storage.pipe\";\n\nfunction EventComponent_section_9_p_32_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r11.selectedEvent.maxattendance - ctx_r11.numberofsignups, \" platser kvar)\");\n  }\n}\n\nfunction EventComponent_section_9_p_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵelement(1, \"i\", 33);\n    i0.ɵɵtext(2);\n    i0.ɵɵtemplate(3, EventComponent_section_9_p_32_span_3_Template, 2, 1, \"span\", 21);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\xA0\", ctx_r1.selectedEvent.maxattendance, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedEvent.signon && ctx_r1.auth.canEdit(ctx_r1.user));\n  }\n}\n\nfunction EventComponent_section_9_div_33_span_1_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"f\\xF6rsta anm\\xE4lda f\\xE5r mat\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventComponent_section_9_div_33_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\")(1, \"p\");\n    i0.ɵɵelement(2, \"i\", 34);\n    i0.ɵɵtext(3);\n    i0.ɵɵtemplate(4, EventComponent_section_9_div_33_span_1_span_4_Template, 2, 0, \"span\", 21);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\xA0\", ctx_r12.selectedEvent.foodportions, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.selectedEvent.signon);\n  }\n}\n\nfunction EventComponent_section_9_div_33_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\")(1, \"p\");\n    i0.ɵɵelement(2, \"i\", 34);\n    i0.ɵɵtext(3, \"\\xA0 Studenter som anm\\xE4ler sig innan den 12/9 och f\\xE5r plats p\\xE5 eventet f\\xE5r mat.\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction EventComponent_section_9_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtemplate(1, EventComponent_section_9_div_33_span_1_Template, 5, 2, \"span\", 21);\n    i0.ɵɵtemplate(2, EventComponent_section_9_div_33_span_2_Template, 4, 0, \"span\", 21);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.eventid != \"yFsyUZi4bNFsOjQMIFJo\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.eventid == \"yFsyUZi4bNFsOjQMIFJo\");\n  }\n}\n\nfunction EventComponent_section_9_p_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Anm\\xE4lan st\\xE4nger \", i0.ɵɵpipeBind2(3, 1, ctx_r3.selectedEvent.signonends.toDate(), \"dd MMM HH:mm\"), \"\");\n  }\n}\n\nfunction EventComponent_section_9_p_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Anm\\xE4lan \\xF6ppnar \", i0.ɵɵpipeBind2(3, 1, ctx_r4.selectedEvent.signonstarts.toDate(), \"dd MMM HH:mm\"), \"\");\n  }\n}\n\nfunction EventComponent_section_9_h2_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.selectedEvent.ingress);\n  }\n}\n\nvar _c0 = function _c0(a0) {\n  return {\n    \"background-image\": a0\n  };\n};\n\nfunction EventComponent_section_9_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 36);\n  }\n\n  if (rf & 2) {\n    var photoUrl_r15 = ctx.ngIf;\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(1, _c0, \"url(\" + photoUrl_r15 + \")\"));\n  }\n}\n\nfunction EventComponent_section_9_p_68_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r16 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(\", ctx_r16.selectedEvent.maxattendance - ctx_r16.numberofsignups, \" platser kvar)\");\n  }\n}\n\nfunction EventComponent_section_9_p_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵelement(1, \"i\", 33);\n    i0.ɵɵtext(2);\n    i0.ɵɵtemplate(3, EventComponent_section_9_p_68_span_3_Template, 2, 1, \"span\", 21);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\xA0\", ctx_r7.selectedEvent.maxattendance, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.selectedEvent.signon && ctx_r7.auth.canEdit(ctx_r7.user));\n  }\n}\n\nfunction EventComponent_section_9_div_69_span_1_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"f\\xF6rsta anm\\xE4lda f\\xE5r mat\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventComponent_section_9_div_69_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\")(1, \"p\");\n    i0.ɵɵelement(2, \"i\", 34);\n    i0.ɵɵtext(3);\n    i0.ɵɵtemplate(4, EventComponent_section_9_div_69_span_1_span_4_Template, 2, 0, \"span\", 21);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r17 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\xA0\", ctx_r17.selectedEvent.foodportions, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r17.selectedEvent.signon);\n  }\n}\n\nfunction EventComponent_section_9_div_69_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\")(1, \"p\");\n    i0.ɵɵelement(2, \"i\", 34);\n    i0.ɵɵtext(3, \"\\xA0 Studenter som anm\\xE4ler sig innan den 12/9 och f\\xE5r plats p\\xE5 eventet f\\xE5r mat.\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction EventComponent_section_9_div_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtemplate(1, EventComponent_section_9_div_69_span_1_Template, 5, 2, \"span\", 21);\n    i0.ɵɵtemplate(2, EventComponent_section_9_div_69_span_2_Template, 4, 0, \"span\", 21);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.eventid != \"yFsyUZi4bNFsOjQMIFJo\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.eventid == \"yFsyUZi4bNFsOjQMIFJo\");\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r20 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Anm\\xE4lan st\\xE4nger \", i0.ɵɵpipeBind2(3, 1, ctx_r20.selectedEvent.signonends.toDate(), \"dd MMM HH:mm\"), \"\");\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r21 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Avanm\\xE4lan st\\xE4nger \", i0.ɵɵpipeBind2(3, 1, ctx_r21.selectedEvent.signoffends.toDate(), \"dd MMM HH:mm\"), \"\");\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var ctx_r22 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Anm\\xE4lan \\xF6ppnar \", i0.ɵɵpipeBind2(3, 1, ctx_r22.selectedEvent.signonstarts.toDate(), \"dd MMM HH:mm\"), \"\");\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_ng_container_5_ng_container_1_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 42);\n    i0.ɵɵtext(1, \"Du st\\xE5r som reserv.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_ng_container_5_ng_container_1_p_2_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Ja\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_ng_container_5_ng_container_1_p_2_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Nej\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_ng_container_5_ng_container_1_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 42);\n    i0.ɵɵtext(1, \"Du \\xE4r anm\\xE4ld (Garanterad mat: \");\n    i0.ɵɵtemplate(2, EventComponent_section_9_ng_container_70_ng_container_5_ng_container_1_p_2_span_2_Template, 2, 0, \"span\", 21);\n    i0.ɵɵtemplate(3, EventComponent_section_9_ng_container_70_ng_container_5_ng_container_1_p_2_span_3_Template, 2, 0, \"span\", 21);\n    i0.ɵɵtext(4, \").\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r30 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r30.attendedDoc.getsfood);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r30.attendedDoc.getsfood);\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_ng_container_5_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, EventComponent_section_9_ng_container_70_ng_container_5_ng_container_1_p_1_Template, 2, 0, \"p\", 38);\n    i0.ɵɵtemplate(2, EventComponent_section_9_ng_container_70_ng_container_5_ng_container_1_p_2_Template, 5, 2, \"p\", 38);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"a\", 39);\n    i0.ɵɵlistener(\"click\", function EventComponent_section_9_ng_container_70_ng_container_5_ng_container_1_Template_a_click_4_listener() {\n      i0.ɵɵrestoreView(_r34);\n      var ctx_r33 = i0.ɵɵnextContext(4);\n      return ctx_r33.delete();\n    });\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6, \"Avanm\\xE4l dig\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 40);\n    i0.ɵɵelement(8, \"i\", 41);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r27 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r27.attendedDoc.waitinglist && !ctx_r27.confirmDelete);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r27.attendedDoc.waitinglist && !ctx_r27.confirmDelete);\n  }\n}\n\nvar _c1 = function _c1(a0) {\n  return {\n    \"is-loading\": a0\n  };\n};\n\nfunction EventComponent_section_9_ng_container_70_ng_container_5_ng_container_2_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r40 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 44);\n    i0.ɵɵlistener(\"click\", function EventComponent_section_9_ng_container_70_ng_container_5_ng_container_2_a_1_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r40);\n      var ctx_r39 = i0.ɵɵnextContext(5);\n      return ctx_r39.attend();\n    });\n    i0.ɵɵtext(1, \"Anm\\xE4l dig*\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r35 = i0.ɵɵnextContext(5);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c1, ctx_r35.loading));\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_ng_container_5_ng_container_2_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 45);\n    i0.ɵɵtext(1, \"Eventet \\xE4r f\\xF6r tillf\\xE4llet fullt, men du kan s\\xE4tta upp dig p\\xE5 reservlistan. Kom ih\\xE5g att om du s\\xE4tter upp dig p\\xE5 reservlistan s\\xE5 \\xE4r det du sj\\xE4lv som m\\xE5ste h\\xE5lla koll p\\xE5 om du f\\xE5tt en plats eller inte. Detta ser du l\\xE4tt under din profil.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_ng_container_5_ng_container_2_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r37 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Just nu \\xE4r det \", ctx_r37.numberofreserves, \" stycken reserver p\\xE5 listan.\");\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_ng_container_5_ng_container_2_a_6_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r42 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 44);\n    i0.ɵɵlistener(\"click\", function EventComponent_section_9_ng_container_70_ng_container_5_ng_container_2_a_6_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r42);\n      var ctx_r41 = i0.ɵɵnextContext(5);\n      return ctx_r41.reserv();\n    });\n    i0.ɵɵtext(1, \"S\\xE4tt upp dig som reserv\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r38 = i0.ɵɵnextContext(5);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(1, _c1, ctx_r38.loading));\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_ng_container_5_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, EventComponent_section_9_ng_container_70_ng_container_5_ng_container_2_a_1_Template, 2, 3, \"a\", 43);\n    i0.ɵɵtemplate(2, EventComponent_section_9_ng_container_70_ng_container_5_ng_container_2_p_2_Template, 2, 0, \"p\", 37);\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtemplate(4, EventComponent_section_9_ng_container_70_ng_container_5_ng_container_2_p_4_Template, 2, 1, \"p\", 37);\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵtemplate(6, EventComponent_section_9_ng_container_70_ng_container_5_ng_container_2_a_6_Template, 2, 3, \"a\", 43);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r28 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r28.selectedEvent.maxattendance - ctx_r28.numberofsignups > 0 && ctx_r28.loaded || ctx_r28.selectedEvent.maxattendance == 0 && ctx_r28.loaded);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r28.selectedEvent.maxattendance - ctx_r28.numberofsignups < 1 && ctx_r28.selectedEvent.maxattendance != 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r28.selectedEvent.maxattendance - ctx_r28.numberofsignups < 1 && ctx_r28.selectedEvent.maxattendance != 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r28.selectedEvent.maxattendance - ctx_r28.numberofsignups < 1 && ctx_r28.selectedEvent.maxattendance != 0);\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, EventComponent_section_9_ng_container_70_ng_container_5_ng_container_1_Template, 9, 2, \"ng-container\", 21);\n    i0.ɵɵtemplate(2, EventComponent_section_9_ng_container_70_ng_container_5_ng_container_2_Template, 7, 4, \"ng-container\", 21);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r23 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r23.attended && !ctx_r23.confirmDelete && ctx_r23.selectedEvent.signonstarts.toDate() < ctx_r23.today && ctx_r23.selectedEvent.signoffends.toDate() > ctx_r23.today);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r23.attended && ctx_r23.selectedEvent.signonstarts.toDate() < ctx_r23.today && ctx_r23.selectedEvent.signonends.toDate() > ctx_r23.today && ctx_r23.loaded);\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 45);\n    i0.ɵɵtext(1, \"N\\xE5got gick fel och du Kunde inte anm\\xE4la dig. \\xC4r du redan anm\\xE4ld?\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 42);\n    i0.ɵɵtext(1, \"Du \\xE4r nu borttagen.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 42);\n    i0.ɵɵtext(1, \"Du \\xE4r nu satt p\\xE5 reservlistan. F\\xF6lj om du f\\xE5tt en plats under din profil.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction EventComponent_section_9_ng_container_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, EventComponent_section_9_ng_container_70_p_1_Template, 4, 4, \"p\", 21);\n    i0.ɵɵtemplate(2, EventComponent_section_9_ng_container_70_p_2_Template, 4, 4, \"p\", 21);\n    i0.ɵɵtemplate(3, EventComponent_section_9_ng_container_70_p_3_Template, 4, 4, \"p\", 21);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵtemplate(5, EventComponent_section_9_ng_container_70_ng_container_5_Template, 3, 2, \"ng-container\", 21);\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵtemplate(7, EventComponent_section_9_ng_container_70_p_7_Template, 2, 0, \"p\", 37);\n    i0.ɵɵtemplate(8, EventComponent_section_9_ng_container_70_p_8_Template, 2, 0, \"p\", 38);\n    i0.ɵɵtemplate(9, EventComponent_section_9_ng_container_70_p_9_Template, 2, 0, \"p\", 38);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.selectedEvent.signonends.toDate() > ctx_r9.today);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.selectedEvent.signoffends.toDate() && ctx_r9.selectedEvent.signoffends.toDate() > ctx_r9.today);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.selectedEvent.signonstarts.toDate() > ctx_r9.today);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.user);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.attenderror);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.confirmDelete);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.confirmReserv);\n  }\n}\n\nfunction EventComponent_section_9_p_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"em\");\n    i0.ɵɵtext(2, \"Du m\\xE5ste vara inloggad f\\xF6r att kunna anm\\xE4la dig.\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nvar _c2 = function _c2() {\n  return [\"../../events\"];\n};\n\nfunction EventComponent_section_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 8)(1, \"div\", 2)(2, \"div\", 9)(3, \"div\", 10)(4, \"nav\", 11)(5, \"ul\")(6, \"li\")(7, \"a\", 12)(8, \"span\");\n    i0.ɵɵelement(9, \"i\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \" \\xA0Evenemang\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"li\", 14)(12, \"a\", 15);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(14, \"nav\", 16)(15, \"div\", 17)(16, \"div\", 18)(17, \"p\");\n    i0.ɵɵelement(18, \"i\", 13);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 18)(22, \"p\");\n    i0.ɵɵelement(23, \"i\", 19);\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"date\");\n    i0.ɵɵpipe(26, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(27, \"div\", 18)(28, \"p\");\n    i0.ɵɵelement(29, \"i\", 20);\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"div\", 18);\n    i0.ɵɵtemplate(32, EventComponent_section_9_p_32_Template, 4, 2, \"p\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(33, EventComponent_section_9_div_33_Template, 3, 2, \"div\", 22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(34, EventComponent_section_9_p_34_Template, 4, 4, \"p\", 21);\n    i0.ɵɵtemplate(35, EventComponent_section_9_p_35_Template, 4, 4, \"p\", 21);\n    i0.ɵɵelement(36, \"br\");\n    i0.ɵɵelementStart(37, \"h1\", 23);\n    i0.ɵɵtext(38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(39, EventComponent_section_9_h2_39_Template, 2, 1, \"h2\", 24);\n    i0.ɵɵelementStart(40, \"div\", 25)(41, \"div\", 26)(42, \"div\", 27)(43, \"div\", 28);\n    i0.ɵɵtemplate(44, EventComponent_section_9_div_44_Template, 1, 3, \"div\", 29);\n    i0.ɵɵpipe(45, \"async\");\n    i0.ɵɵpipe(46, \"storage\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(47, \"div\", 30)(48, \"p\", 31);\n    i0.ɵɵtext(49);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(50, \"nav\", 16)(51, \"div\", 17)(52, \"div\", 18)(53, \"p\");\n    i0.ɵɵelement(54, \"i\", 13);\n    i0.ɵɵtext(55);\n    i0.ɵɵpipe(56, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(57, \"div\", 18)(58, \"p\");\n    i0.ɵɵelement(59, \"i\", 19);\n    i0.ɵɵtext(60);\n    i0.ɵɵpipe(61, \"date\");\n    i0.ɵɵpipe(62, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(63, \"div\", 18)(64, \"p\");\n    i0.ɵɵelement(65, \"i\", 20);\n    i0.ɵɵtext(66);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(67, \"div\", 18);\n    i0.ɵɵtemplate(68, EventComponent_section_9_p_68_Template, 4, 2, \"p\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(69, EventComponent_section_9_div_69_Template, 3, 2, \"div\", 22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(70, EventComponent_section_9_ng_container_70_Template, 10, 7, \"ng-container\", 21);\n    i0.ɵɵtemplate(71, EventComponent_section_9_p_71_Template, 3, 0, \"p\", 21);\n    i0.ɵɵelement(72, \"br\")(73, \"br\");\n    i0.ɵɵelementStart(74, \"p\", 32);\n    i0.ɵɵtext(75, \"*Vi kan endast garantera specialkost om anm\\xE4lan kommer in 4 dagar innan. Om du anm\\xE4lt dig p\\xE5 ett event och inte dyker upp g\\xE4ller samma policy som I-Sektionen och ELIN till\\xE4mpar. L\\xE4s mer p\\xE5 din respektive sektions hemsida.\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(44, _c2));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedEvent.title);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\xA0\", i0.ɵɵpipeBind2(20, 22, ctx_r0.selectedEvent.eventstarts.toDate(), \"dd MMM\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\\xA0\", i0.ɵɵpipeBind2(25, 25, ctx_r0.selectedEvent.eventstarts.toDate(), \"HH:mm\"), \" - \", i0.ɵɵpipeBind2(26, 28, ctx_r0.selectedEvent.eventends.toDate(), \"HH:mm\"), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\xA0\", ctx_r0.selectedEvent.location, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedEvent.maxattendance > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedEvent.foodportions > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedEvent.signonends.toDate() < ctx_r0.today && ctx_r0.signon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedEvent.signonstarts.toDate() > ctx_r0.today && ctx_r0.signon);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedEvent.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedEvent.ingress);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(45, 31, i0.ɵɵpipeBind1(46, 33, ctx_r0.selectedEvent.imagepath)));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.selectedEvent.about);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\xA0\", i0.ɵɵpipeBind2(56, 35, ctx_r0.selectedEvent.eventstarts.toDate(), \"dd MMM\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\\xA0\", i0.ɵɵpipeBind2(61, 38, ctx_r0.selectedEvent.eventstarts.toDate(), \"HH:mm\"), \" - \", i0.ɵɵpipeBind2(62, 41, ctx_r0.selectedEvent.eventends.toDate(), \"HH:mm\"), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\xA0\", ctx_r0.selectedEvent.location, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedEvent.maxattendance > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedEvent.foodportions > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.selectedEvent.signon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.user && ctx_r0.selectedEvent.signon);\n  }\n}\n\nexport var EventComponent = /*#__PURE__*/(function () {\n  var EventComponent = /*#__PURE__*/function () {\n    function EventComponent(router, findRoute, afs, auth) {\n      var _this = this;\n\n      _classCallCheck(this, EventComponent);\n\n      this.router = router;\n      this.findRoute = findRoute;\n      this.afs = afs;\n      this.auth = auth;\n      this.numberofsignups = 0;\n      this.numberofreserves = 0;\n      this.attended = false;\n      this.confirmDelete = false;\n      this.confirmAttend = false;\n      this.confirmReserv = false;\n      this.attenderror = false;\n      this.loading = false;\n      this.food = false;\n      this.loaded = false;\n      this.eventid = this.findRoute.snapshot.params.id;\n      this.today = new Date();\n      this.auth.user$.subscribe(function (user) {\n        _this.user = user;\n\n        _this.getAttendance().subscribe(function (att) {\n          _this.numberofsignups = _.size(_.filter(att, ['waitinglist', false]));\n          _this.signups = _.orderBy(_.filter(att, ['waitinglist', false]), ['timestamp'], ['asc']);\n          _this.numberofreserves = _.size(_.filter(att, ['waitinglist', true]));\n          _this.reserves = _.orderBy(_.filter(att, ['waitinglist', true]), ['timestamp'], ['asc']);\n\n          if (_.find(att, function (o) {\n            return o.attendant == user.uid;\n          })) {\n            _this.attended = true;\n            _this.attendedDoc = _.find(att, function (o) {\n              return o.attendant == user.uid;\n            });\n          }\n\n          _this.loaded = true;\n        });\n      });\n      this.getEvent(this.eventid).subscribe(function (event) {\n        _this.selectedEvent = event;\n        console.log(event);\n      });\n    }\n\n    _createClass(EventComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {}\n    }, {\n      key: \"getEvent\",\n      value: function getEvent(id) {\n        return this.afs.collection('events').doc(id).valueChanges();\n      }\n    }, {\n      key: \"getAttendance\",\n      value: function getAttendance() {\n        var _this2 = this;\n\n        return this.afs.collection('attendevent', function (ref) {\n          return ref // .where('waitinglist', '==', false)\n          .where('event', '==', _this2.eventid);\n        }).snapshotChanges().pipe(map(function (actions) {\n          return actions.map(function (a) {\n            var data = a.payload.doc.data();\n            var id = a.payload.doc.id;\n            return Object.assign({\n              id: id\n            }, data);\n          });\n        }));\n      } // getReserves() {\n      //   return this.afs.collection<AttendEvent>('attendevent', ref => {\n      //     return ref\n      //       .where('waitinglist', '==', true)\n      //       .where('event', '==', this.eventid);\n      //   }).snapshotChanges().pipe(\n      //    map(actions => actions.map(a => {\n      //      const data = a.payload.doc.data() as AttendEvent;\n      //      const id = a.payload.doc.id;\n      //      return { id, ...data };\n      //    }))\n      //  );\n      // }\n\n    }, {\n      key: \"attend\",\n      value: function attend() {\n        var _this3 = this;\n\n        this.loading = true;\n\n        if (this.numberofsignups >= this.selectedEvent.maxattendance && this.selectedEvent.maxattendance != 0 || this.attended) {\n          this.attenderror = true;\n          this.loading = false;\n        } else {\n          if (this.numberofsignups < this.selectedEvent.foodportions) {\n            this.food = true;\n          }\n\n          var eventsCollection = this.afs.collection('attendevent');\n          var newAttend = {\n            event: this.eventid,\n            eventtitle: this.selectedEvent.title,\n            attendant: this.user.uid,\n            firstname: this.user.firstname,\n            lastname: this.user.lastname,\n            liuid: this.user.liuid,\n            specialfood: this.user.specialfood,\n            getsfood: this.food,\n            waitinglist: false,\n            timestamp: new Date(),\n            checkedin: false\n          };\n          eventsCollection.add(newAttend).then(function () {\n            _this3.confirmAttend = true;\n            _this3.loading = false;\n          });\n        }\n\n        if (navigator.userAgent.indexOf('gonative') > -1) {\n          var tags = {};\n          tags[this.eventid] = true;\n          window.location.href = 'gonative://onesignal/tags/set?tags=' + encodeURIComponent(JSON.stringify(tags));\n        }\n      }\n    }, {\n      key: \"reserv\",\n      value: function reserv() {\n        var _this4 = this;\n\n        this.loading = true;\n        var eventsCollection = this.afs.collection('attendevent');\n        var newAttend = {\n          event: this.eventid,\n          eventtitle: this.selectedEvent.title,\n          attendant: this.user.uid,\n          firstname: this.user.firstname,\n          lastname: this.user.lastname,\n          liuid: this.user.liuid,\n          specialfood: this.user.specialfood,\n          getsfood: false,\n          waitinglist: true,\n          timestamp: new Date(),\n          checkedin: false\n        };\n        eventsCollection.add(newAttend).then(function () {\n          _this4.confirmReserv = true;\n          _this4.loading = false;\n        });\n      }\n    }, {\n      key: \"delete\",\n      value: function _delete() {\n        var _this5 = this;\n\n        if (!this.attendedDoc.waitinglist) {\n          if (this.attendedDoc.getsfood && this.numberofsignups > this.selectedEvent.foodportions && this.selectedEvent.maxattendance > this.selectedEvent.foodportions) {\n            var index = this.selectedEvent.foodportions;\n            console.log(this.signups[index].id);\n            var docid = this.signups[index].id;\n            this.afs.doc(\"attendevent/\".concat(docid)).update({\n              getsfood: true\n            });\n          }\n\n          if (this.numberofreserves > 0 && this.numberofsignups <= this.selectedEvent.maxattendance) {\n            var reservid = this.reserves[0].id;\n\n            if (this.attendedDoc.getsfood && this.selectedEvent.maxattendance == this.selectedEvent.foodportions) {\n              this.afs.doc(\"attendevent/\".concat(reservid)).update({\n                getsfood: true,\n                waitinglist: false\n              });\n            } else {\n              this.afs.doc(\"attendevent/\".concat(reservid)).update({\n                waitinglist: false\n              });\n            }\n          }\n        }\n\n        this.afs.doc(\"attendevent/\".concat(this.attendedDoc.id)).delete().then(function () {\n          _this5.confirmDelete = true;\n        });\n\n        if (navigator.userAgent.indexOf('gonative') > -1) {\n          var tags = {};\n          tags[this.eventid] = '';\n          window.location.href = 'gonative://onesignal/tags/set?tags=' + encodeURIComponent(JSON.stringify(tags));\n        }\n      }\n    }]);\n\n    return EventComponent;\n  }();\n\n  EventComponent.ɵfac = function EventComponent_Factory(t) {\n    return new (t || EventComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AngularFirestore), i0.ɵɵdirectiveInject(i3.AuthService));\n  };\n\n  EventComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EventComponent,\n    selectors: [[\"app-event\"]],\n    decls: 10,\n    vars: 1,\n    consts: [[1, \"hero\", \"is-primary\", \"is-bold\"], [1, \"hero-body\"], [1, \"container\"], [1, \"columns\", \"is-vcentered\"], [1, \"column\", \"is-two-thirds\"], [1, \"title\"], [1, \"subtitle\"], [\"class\", \"section\", 4, \"ngIf\"], [1, \"section\"], [1, \"columns\", \"is-centered\"], [1, \"column\", \"is-8\", \"is-12-mobile\"], [\"aria-label\", \"breadcrumbs\", 1, \"breadcrumb\", \"is-medium\"], [3, \"routerLink\"], [1, \"far\", \"fa-calendar-alt\"], [1, \"is-active\"], [\"href\", \"#\", \"aria-current\", \"page\"], [1, \"level\"], [1, \"level-left\"], [1, \"level-item\"], [1, \"far\", \"fa-clock\"], [1, \"fas\", \"fa-map-marker-alt\"], [4, \"ngIf\"], [\"class\", \"level-item\", 4, \"ngIf\"], [1, \"title\", \"is-2\", \"is-spaced\"], [\"class\", \"subtitle is-4\", 4, \"ngIf\"], [1, \"columns\"], [1, \"column\", \"is-4\", \"is-12-mobile\"], [1, \"event-item\", \"is-spaced\"], [1, \"event-cover\"], [\"class\", \"event-image\", 3, \"ngStyle\", 4, \"ngIf\"], [1, \"content\", \"is-medium\"], [2, \"white-space\", \"pre-wrap\"], [1, \"subtitle\", \"is-6\"], [1, \"fas\", \"fa-users\"], [1, \"fas\", \"fa-utensils\"], [1, \"subtitle\", \"is-4\"], [1, \"event-image\", 3, \"ngStyle\"], [\"class\", \"has-text-danger\", 4, \"ngIf\"], [\"class\", \"has-text-primary\", 4, \"ngIf\"], [1, \"button\", \"is-primary\", \"is-outlined\", 3, \"click\"], [1, \"icon\", \"is-small\"], [1, \"fas\", \"fa-times\"], [1, \"has-text-primary\"], [\"class\", \"button is-primary\", 3, \"ngClass\", \"click\", 4, \"ngIf\"], [1, \"button\", \"is-primary\", 3, \"ngClass\", \"click\"], [1, \"has-text-danger\"]],\n    template: function EventComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h1\", 5);\n        i0.ɵɵtext(6, \" Event \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"h2\", 6);\n        i0.ɵɵtext(8, \"B\\xE5de innan och under m\\xE4ssan anordnar vi ett antal event som st\\xE5r \\xF6ppet f\\xF6r alla studenter. Nedan kan du hitta dessa event, l\\xE4sa mer och anm\\xE4la dig. \");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵtemplate(9, EventComponent_section_9_Template, 76, 45, \"section\", 7);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedEvent);\n      }\n    },\n    directives: [i4.NgIf, i1.RouterLinkWithHref, i4.NgStyle, i4.NgClass],\n    pipes: [i4.DatePipe, i4.AsyncPipe, i5.StoragePipe],\n    styles: [\"\"]\n  });\n  return EventComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}