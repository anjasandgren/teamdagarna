{"ast":null,"code":"import * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nvar _c0 = [\"owl-date-time-calendar-body\", \"\"];\n\nvar _c1 = function _c1(a0, a1, a2) {\n  return {\n    \"owl-dt-calendar-cell-out\": a0,\n    \"owl-dt-calendar-cell-today\": a1,\n    \"owl-dt-calendar-cell-selected\": a2\n  };\n};\n\nfunction OwlCalendarBodyComponent_tr_0_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r7 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"td\", 3);\n    ɵngcc0.ɵɵlistener(\"click\", function OwlCalendarBodyComponent_tr_0_td_1_Template_td_click_0_listener() {\n      var restoredCtx = ɵngcc0.ɵɵrestoreView(_r7);\n      var item_r4 = restoredCtx.$implicit;\n      var ctx_r6 = ɵngcc0.ɵɵnextContext(2);\n      return ctx_r6.selectCell(item_r4);\n    });\n    ɵngcc0.ɵɵelementStart(1, \"span\", 4);\n    ɵngcc0.ɵɵtext(2);\n    ɵngcc0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    var item_r4 = ctx.$implicit;\n    var colIndex_r5 = ctx.index;\n    var rowIndex_r2 = ɵngcc0.ɵɵnextContext().index;\n    var ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassMapInterpolate1(\"owl-dt-calendar-cell \", item_r4.cellClass, \"\");\n    ɵngcc0.ɵɵstyleProp(\"width\", 100 / ctx_r3.numCols, \"%\")(\"padding-top\", 50 * ctx_r3.cellRatio / ctx_r3.numCols, \"%\")(\"padding-bottom\", 50 * ctx_r3.cellRatio / ctx_r3.numCols, \"%\");\n    ɵngcc0.ɵɵclassProp(\"owl-dt-calendar-cell-active\", ctx_r3.isActiveCell(rowIndex_r2, colIndex_r5))(\"owl-dt-calendar-cell-disabled\", !item_r4.enabled)(\"owl-dt-calendar-cell-in-range\", ctx_r3.isInRange(item_r4.value))(\"owl-dt-calendar-cell-range-from\", ctx_r3.isRangeFrom(item_r4.value))(\"owl-dt-calendar-cell-range-to\", ctx_r3.isRangeTo(item_r4.value));\n    ɵngcc0.ɵɵproperty(\"tabindex\", ctx_r3.isActiveCell(rowIndex_r2, colIndex_r5) ? 0 : -1);\n    ɵngcc0.ɵɵattribute(\"aria-label\", item_r4.ariaLabel)(\"aria-disabled\", !item_r4.enabled || null);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction3(24, _c1, item_r4.out, item_r4.value === ctx_r3.todayValue, ctx_r3.isSelected(item_r4.value)));\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(item_r4.displayValue);\n  }\n}\n\nfunction OwlCalendarBodyComponent_tr_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"tr\", 1);\n    ɵngcc0.ɵɵtemplate(1, OwlCalendarBodyComponent_tr_0_td_1_Template, 3, 28, \"td\", 2);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var row_r1 = ctx.$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", row_r1);\n  }\n}\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nimport { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, HostBinding, Input, NgZone, Output } from '@angular/core';\nimport { take } from 'rxjs/operators';\n\nvar CalendarCell = function () {\n  function CalendarCell(value, displayValue, ariaLabel, enabled, out, cellClass) {\n    if (out === void 0) {\n      out = false;\n    }\n\n    if (cellClass === void 0) {\n      cellClass = '';\n    }\n\n    this.value = value;\n    this.displayValue = displayValue;\n    this.ariaLabel = ariaLabel;\n    this.enabled = enabled;\n    this.out = out;\n    this.cellClass = cellClass;\n  }\n\n  return CalendarCell;\n}();\n\nexport { CalendarCell };\n\nvar OwlCalendarBodyComponent = function () {\n  function OwlCalendarBodyComponent(elmRef, ngZone) {\n    this.elmRef = elmRef;\n    this.ngZone = ngZone;\n    this.activeCell = 0;\n    this.numCols = 7;\n    this.cellRatio = 1;\n    this.select = new EventEmitter();\n  }\n\n  Object.defineProperty(OwlCalendarBodyComponent.prototype, \"owlDTCalendarBodyClass\", {\n    get: function get() {\n      return true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OwlCalendarBodyComponent.prototype, \"isInSingleMode\", {\n    get: function get() {\n      return this.selectMode === 'single';\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OwlCalendarBodyComponent.prototype, \"isInRangeMode\", {\n    get: function get() {\n      return this.selectMode === 'range' || this.selectMode === 'rangeFrom' || this.selectMode === 'rangeTo';\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  OwlCalendarBodyComponent.prototype.ngOnInit = function () {};\n\n  OwlCalendarBodyComponent.prototype.selectCell = function (cell) {\n    this.select.emit(cell);\n  };\n\n  OwlCalendarBodyComponent.prototype.isActiveCell = function (rowIndex, colIndex) {\n    var cellNumber = rowIndex * this.numCols + colIndex;\n    return cellNumber === this.activeCell;\n  };\n\n  OwlCalendarBodyComponent.prototype.isSelected = function (value) {\n    if (!this.selectedValues || this.selectedValues.length === 0) {\n      return false;\n    }\n\n    if (this.isInSingleMode) {\n      return value === this.selectedValues[0];\n    }\n\n    if (this.isInRangeMode) {\n      var fromValue = this.selectedValues[0];\n      var toValue = this.selectedValues[1];\n      return value === fromValue || value === toValue;\n    }\n  };\n\n  OwlCalendarBodyComponent.prototype.isInRange = function (value) {\n    if (this.isInRangeMode) {\n      var fromValue = this.selectedValues[0];\n      var toValue = this.selectedValues[1];\n\n      if (fromValue !== null && toValue !== null) {\n        return value >= fromValue && value <= toValue;\n      } else {\n        return value === fromValue || value === toValue;\n      }\n    }\n  };\n\n  OwlCalendarBodyComponent.prototype.isRangeFrom = function (value) {\n    if (this.isInRangeMode) {\n      var fromValue = this.selectedValues[0];\n      return fromValue !== null && value === fromValue;\n    }\n  };\n\n  OwlCalendarBodyComponent.prototype.isRangeTo = function (value) {\n    if (this.isInRangeMode) {\n      var toValue = this.selectedValues[1];\n      return toValue !== null && value === toValue;\n    }\n  };\n\n  OwlCalendarBodyComponent.prototype.focusActiveCell = function () {\n    var _this = this;\n\n    this.ngZone.runOutsideAngular(function () {\n      _this.ngZone.onStable.asObservable().pipe(take(1)).subscribe(function () {\n        _this.elmRef.nativeElement.querySelector('.owl-dt-calendar-cell-active').focus();\n      });\n    });\n  };\n\n  __decorate([Input(), __metadata(\"design:type\", Object)], OwlCalendarBodyComponent.prototype, \"activeCell\", void 0);\n\n  __decorate([Input(), __metadata(\"design:type\", Array)], OwlCalendarBodyComponent.prototype, \"rows\", void 0);\n\n  __decorate([Input(), __metadata(\"design:type\", Object)], OwlCalendarBodyComponent.prototype, \"numCols\", void 0);\n\n  __decorate([Input(), __metadata(\"design:type\", Object)], OwlCalendarBodyComponent.prototype, \"cellRatio\", void 0);\n\n  __decorate([Input(), __metadata(\"design:type\", Number)], OwlCalendarBodyComponent.prototype, \"todayValue\", void 0);\n\n  __decorate([Input(), __metadata(\"design:type\", Array)], OwlCalendarBodyComponent.prototype, \"selectedValues\", void 0);\n\n  __decorate([Input(), __metadata(\"design:type\", String)], OwlCalendarBodyComponent.prototype, \"selectMode\", void 0);\n\n  __decorate([Output(), __metadata(\"design:type\", Object)], OwlCalendarBodyComponent.prototype, \"select\", void 0);\n\n  __decorate([HostBinding('class.owl-dt-calendar-body'), __metadata(\"design:type\", Boolean), __metadata(\"design:paramtypes\", [])], OwlCalendarBodyComponent.prototype, \"owlDTCalendarBodyClass\", null);\n\n  OwlCalendarBodyComponent = __decorate([__metadata(\"design:paramtypes\", [ElementRef, NgZone])], OwlCalendarBodyComponent);\n\n  OwlCalendarBodyComponent.ɵfac = function OwlCalendarBodyComponent_Factory(t) {\n    return new (t || OwlCalendarBodyComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone));\n  };\n\n  OwlCalendarBodyComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: OwlCalendarBodyComponent,\n    selectors: [[\"\", \"owl-date-time-calendar-body\", \"\"]],\n    hostVars: 2,\n    hostBindings: function OwlCalendarBodyComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"owl-dt-calendar-body\", ctx.owlDTCalendarBodyClass);\n      }\n    },\n    inputs: {\n      activeCell: \"activeCell\",\n      numCols: \"numCols\",\n      cellRatio: \"cellRatio\",\n      rows: \"rows\",\n      todayValue: \"todayValue\",\n      selectedValues: \"selectedValues\",\n      selectMode: \"selectMode\"\n    },\n    outputs: {\n      select: \"select\"\n    },\n    exportAs: [\"owlDateTimeCalendarBody\"],\n    attrs: _c0,\n    decls: 1,\n    vars: 1,\n    consts: [[\"role\", \"row\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"row\"], [3, \"class\", \"tabindex\", \"owl-dt-calendar-cell-active\", \"owl-dt-calendar-cell-disabled\", \"owl-dt-calendar-cell-in-range\", \"owl-dt-calendar-cell-range-from\", \"owl-dt-calendar-cell-range-to\", \"width\", \"paddingTop\", \"paddingBottom\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"tabindex\", \"click\"], [1, \"owl-dt-calendar-cell-content\", 3, \"ngClass\"]],\n    template: function OwlCalendarBodyComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, OwlCalendarBodyComponent_tr_0_Template, 2, 1, \"tr\", 0);\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.rows);\n      }\n    },\n    directives: [ɵngcc1.NgForOf, ɵngcc1.NgClass],\n    styles: [\"\"],\n    changeDetection: 0\n  });\n\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n  })();\n\n  return OwlCalendarBodyComponent;\n}();\n\nexport { OwlCalendarBodyComponent }; //# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsZW5kYXItYm9keS5jb21wb25lbnQuanMiLCJzb3VyY2VzIjpbImNhbGVuZGFyLWJvZHkuY29tcG9uZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQVNPO0FBQ1A7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQWlDO0FBQ2pDO0FBQ0E7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcbn07XG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIEhvc3RCaW5kaW5nLCBJbnB1dCwgTmdab25lLCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IHRha2UgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG52YXIgQ2FsZW5kYXJDZWxsID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYWxlbmRhckNlbGwodmFsdWUsIGRpc3BsYXlWYWx1ZSwgYXJpYUxhYmVsLCBlbmFibGVkLCBvdXQsIGNlbGxDbGFzcykge1xuICAgICAgICBpZiAob3V0ID09PSB2b2lkIDApIHsgb3V0ID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKGNlbGxDbGFzcyA9PT0gdm9pZCAwKSB7IGNlbGxDbGFzcyA9ICcnOyB9XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5kaXNwbGF5VmFsdWUgPSBkaXNwbGF5VmFsdWU7XG4gICAgICAgIHRoaXMuYXJpYUxhYmVsID0gYXJpYUxhYmVsO1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgICB0aGlzLm91dCA9IG91dDtcbiAgICAgICAgdGhpcy5jZWxsQ2xhc3MgPSBjZWxsQ2xhc3M7XG4gICAgfVxuICAgIHJldHVybiBDYWxlbmRhckNlbGw7XG59KCkpO1xuZXhwb3J0IHsgQ2FsZW5kYXJDZWxsIH07XG52YXIgT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPd2xDYWxlbmRhckJvZHlDb21wb25lbnQoZWxtUmVmLCBuZ1pvbmUpIHtcbiAgICAgICAgdGhpcy5lbG1SZWYgPSBlbG1SZWY7XG4gICAgICAgIHRoaXMubmdab25lID0gbmdab25lO1xuICAgICAgICB0aGlzLmFjdGl2ZUNlbGwgPSAwO1xuICAgICAgICB0aGlzLm51bUNvbHMgPSA3O1xuICAgICAgICB0aGlzLmNlbGxSYXRpbyA9IDE7XG4gICAgICAgIHRoaXMuc2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50LnByb3RvdHlwZSwgXCJvd2xEVENhbGVuZGFyQm9keUNsYXNzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE93bENhbGVuZGFyQm9keUNvbXBvbmVudC5wcm90b3R5cGUsIFwiaXNJblNpbmdsZU1vZGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdE1vZGUgPT09ICdzaW5nbGUnO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50LnByb3RvdHlwZSwgXCJpc0luUmFuZ2VNb2RlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RNb2RlID09PSAncmFuZ2UnIHx8IHRoaXMuc2VsZWN0TW9kZSA9PT0gJ3JhbmdlRnJvbSdcbiAgICAgICAgICAgICAgICB8fCB0aGlzLnNlbGVjdE1vZGUgPT09ICdyYW5nZVRvJztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50LnByb3RvdHlwZS5uZ09uSW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIE93bENhbGVuZGFyQm9keUNvbXBvbmVudC5wcm90b3R5cGUuc2VsZWN0Q2VsbCA9IGZ1bmN0aW9uIChjZWxsKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0LmVtaXQoY2VsbCk7XG4gICAgfTtcbiAgICBPd2xDYWxlbmRhckJvZHlDb21wb25lbnQucHJvdG90eXBlLmlzQWN0aXZlQ2VsbCA9IGZ1bmN0aW9uIChyb3dJbmRleCwgY29sSW5kZXgpIHtcbiAgICAgICAgdmFyIGNlbGxOdW1iZXIgPSByb3dJbmRleCAqIHRoaXMubnVtQ29scyArIGNvbEluZGV4O1xuICAgICAgICByZXR1cm4gY2VsbE51bWJlciA9PT0gdGhpcy5hY3RpdmVDZWxsO1xuICAgIH07XG4gICAgT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50LnByb3RvdHlwZS5pc1NlbGVjdGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RlZFZhbHVlcyB8fCB0aGlzLnNlbGVjdGVkVmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzSW5TaW5nbGVNb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRoaXMuc2VsZWN0ZWRWYWx1ZXNbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNJblJhbmdlTW9kZSkge1xuICAgICAgICAgICAgdmFyIGZyb21WYWx1ZSA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXNbMF07XG4gICAgICAgICAgICB2YXIgdG9WYWx1ZSA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXNbMV07XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IGZyb21WYWx1ZSB8fCB2YWx1ZSA9PT0gdG9WYWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50LnByb3RvdHlwZS5pc0luUmFuZ2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNJblJhbmdlTW9kZSkge1xuICAgICAgICAgICAgdmFyIGZyb21WYWx1ZSA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXNbMF07XG4gICAgICAgICAgICB2YXIgdG9WYWx1ZSA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXNbMV07XG4gICAgICAgICAgICBpZiAoZnJvbVZhbHVlICE9PSBudWxsICYmIHRvVmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPj0gZnJvbVZhbHVlICYmIHZhbHVlIDw9IHRvVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IGZyb21WYWx1ZSB8fCB2YWx1ZSA9PT0gdG9WYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50LnByb3RvdHlwZS5pc1JhbmdlRnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc0luUmFuZ2VNb2RlKSB7XG4gICAgICAgICAgICB2YXIgZnJvbVZhbHVlID0gdGhpcy5zZWxlY3RlZFZhbHVlc1swXTtcbiAgICAgICAgICAgIHJldHVybiBmcm9tVmFsdWUgIT09IG51bGwgJiYgdmFsdWUgPT09IGZyb21WYWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50LnByb3RvdHlwZS5pc1JhbmdlVG8gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNJblJhbmdlTW9kZSkge1xuICAgICAgICAgICAgdmFyIHRvVmFsdWUgPSB0aGlzLnNlbGVjdGVkVmFsdWVzWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHRvVmFsdWUgIT09IG51bGwgJiYgdmFsdWUgPT09IHRvVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE93bENhbGVuZGFyQm9keUNvbXBvbmVudC5wcm90b3R5cGUuZm9jdXNBY3RpdmVDZWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLm5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5uZ1pvbmUub25TdGFibGUuYXNPYnNlcnZhYmxlKCkucGlwZSh0YWtlKDEpKS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmVsbVJlZi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vd2wtZHQtY2FsZW5kYXItY2VsbC1hY3RpdmUnKS5mb2N1cygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBPYmplY3QpXG4gICAgXSwgT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50LnByb3RvdHlwZSwgXCJhY3RpdmVDZWxsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIElucHV0KCksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbiAgICBdLCBPd2xDYWxlbmRhckJvZHlDb21wb25lbnQucHJvdG90eXBlLCBcInJvd3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBPd2xDYWxlbmRhckJvZHlDb21wb25lbnQucHJvdG90eXBlLCBcIm51bUNvbHNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBPd2xDYWxlbmRhckJvZHlDb21wb25lbnQucHJvdG90eXBlLCBcImNlbGxSYXRpb1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgTnVtYmVyKVxuICAgIF0sIE93bENhbGVuZGFyQm9keUNvbXBvbmVudC5wcm90b3R5cGUsIFwidG9kYXlWYWx1ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50LnByb3RvdHlwZSwgXCJzZWxlY3RlZFZhbHVlc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuICAgIF0sIE93bENhbGVuZGFyQm9keUNvbXBvbmVudC5wcm90b3R5cGUsIFwic2VsZWN0TW9kZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbiAgICBdLCBPd2xDYWxlbmRhckJvZHlDb21wb25lbnQucHJvdG90eXBlLCBcInNlbGVjdFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBIb3N0QmluZGluZygnY2xhc3Mub3dsLWR0LWNhbGVuZGFyLWJvZHknKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pXG4gICAgXSwgT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50LnByb3RvdHlwZSwgXCJvd2xEVENhbGVuZGFyQm9keUNsYXNzXCIsIG51bGwpO1xuICAgIE93bENhbGVuZGFyQm9keUNvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBDb21wb25lbnQoe1xuICAgICAgICAgICAgc2VsZWN0b3I6ICdbb3dsLWRhdGUtdGltZS1jYWxlbmRhci1ib2R5XScsXG4gICAgICAgICAgICBleHBvcnRBczogJ293bERhdGVUaW1lQ2FsZW5kYXJCb2R5JyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiBcIjx0ciAqbmdGb3I9XFxcImxldCByb3cgb2Ygcm93czsgbGV0IHJvd0luZGV4ID0gaW5kZXhcXFwiIHJvbGU9XFxcInJvd1xcXCI+PHRkICpuZ0Zvcj1cXFwibGV0IGl0ZW0gb2Ygcm93OyBsZXQgY29sSW5kZXggPSBpbmRleFxcXCIgY2xhc3M9XFxcIm93bC1kdC1jYWxlbmRhci1jZWxsIHt7aXRlbS5jZWxsQ2xhc3N9fVxcXCIgW3RhYmluZGV4XT1cXFwiaXNBY3RpdmVDZWxsKHJvd0luZGV4LCBjb2xJbmRleCkgPyAwIDogLTFcXFwiIFtjbGFzcy5vd2wtZHQtY2FsZW5kYXItY2VsbC1hY3RpdmVdPVxcXCJpc0FjdGl2ZUNlbGwocm93SW5kZXgsIGNvbEluZGV4KVxcXCIgW2NsYXNzLm93bC1kdC1jYWxlbmRhci1jZWxsLWRpc2FibGVkXT1cXFwiIWl0ZW0uZW5hYmxlZFxcXCIgW2NsYXNzLm93bC1kdC1jYWxlbmRhci1jZWxsLWluLXJhbmdlXT1cXFwiaXNJblJhbmdlKGl0ZW0udmFsdWUpXFxcIiBbY2xhc3Mub3dsLWR0LWNhbGVuZGFyLWNlbGwtcmFuZ2UtZnJvbV09XFxcImlzUmFuZ2VGcm9tKGl0ZW0udmFsdWUpXFxcIiBbY2xhc3Mub3dsLWR0LWNhbGVuZGFyLWNlbGwtcmFuZ2UtdG9dPVxcXCJpc1JhbmdlVG8oaXRlbS52YWx1ZSlcXFwiIFthdHRyLmFyaWEtbGFiZWxdPVxcXCJpdGVtLmFyaWFMYWJlbFxcXCIgW2F0dHIuYXJpYS1kaXNhYmxlZF09XFxcIiFpdGVtLmVuYWJsZWQgfHwgbnVsbFxcXCIgW3N0eWxlLndpZHRoLiVdPVxcXCIxMDAgLyBudW1Db2xzXFxcIiBbc3R5bGUucGFkZGluZ1RvcC4lXT1cXFwiNTAgKiBjZWxsUmF0aW8gLyBudW1Db2xzXFxcIiBbc3R5bGUucGFkZGluZ0JvdHRvbS4lXT1cXFwiNTAgKiBjZWxsUmF0aW8gLyBudW1Db2xzXFxcIiAoY2xpY2spPVxcXCJzZWxlY3RDZWxsKGl0ZW0pXFxcIj48c3BhbiBjbGFzcz1cXFwib3dsLWR0LWNhbGVuZGFyLWNlbGwtY29udGVudFxcXCIgW25nQ2xhc3NdPVxcXCJ7XFxuICAgICAgICAgICAgICAgICdvd2wtZHQtY2FsZW5kYXItY2VsbC1vdXQnOiBpdGVtLm91dCxcXG4gICAgICAgICAgICAgICAgJ293bC1kdC1jYWxlbmRhci1jZWxsLXRvZGF5JzogaXRlbS52YWx1ZSA9PT0gdG9kYXlWYWx1ZSxcXG4gICAgICAgICAgICAgICAgJ293bC1kdC1jYWxlbmRhci1jZWxsLXNlbGVjdGVkJzogaXNTZWxlY3RlZChpdGVtLnZhbHVlKVxcbiAgICAgICAgICAgICAgfVxcXCI+e3tpdGVtLmRpc3BsYXlWYWx1ZX19PC9zcGFuPjwvdGQ+PC90cj5cIixcbiAgICAgICAgICAgIHN0eWxlczogW1wiXCJdLFxuICAgICAgICAgICAgcHJlc2VydmVXaGl0ZXNwYWNlczogZmFsc2UsXG4gICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgfSksXG4gICAgICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbRWxlbWVudFJlZixcbiAgICAgICAgICAgIE5nWm9uZV0pXG4gICAgXSwgT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50KTtcbiAgICByZXR1cm4gT3dsQ2FsZW5kYXJCb2R5Q29tcG9uZW50O1xufSgpKTtcbmV4cG9ydCB7IE93bENhbGVuZGFyQm9keUNvbXBvbmVudCB9O1xuIl19","map":null,"metadata":{},"sourceType":"module"}